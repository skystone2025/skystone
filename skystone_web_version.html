
<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>Sky Stone 投料助手（离线版）</title>
    <style>
        body { font-family: "Microsoft YaHei", sans-serif; padding: 20px; max-width: 600px; margin: auto; }
        input, label { font-size: 18px; margin: 10px 0; width: 100%; }
        .output { margin-top: 20px; background: #f0f0f0; padding: 15px; border-radius: 8px; font-size: 18px; }
        button { padding: 10px 20px; font-size: 18px; margin-top: 10px; background-color: #008CBA; color: white; border: none; border-radius: 6px; }
    </style>
</head>
<body>
    <h2>Sky Stone 投料助手（离线版）</h2>
    <label for="ph">pH 值：</label>
    <input type="number" step="0.01" id="ph" placeholder="例如 6.9">
    <label for="nh3">氨氮 NH₃ (mg/L)：</label>
    <input type="number" step="0.01" id="nh3" placeholder="例如 0.8">
    <label for="no2">亚硝酸盐 NO₂ (mg/L)：</label>
    <input type="number" step="0.01" id="no2" placeholder="例如 0.2">
    <button onclick="calculate()">生成投料建议</button>

    <div class="output" id="result"></div>

    <script>
        function calculate() {
            const ph = parseFloat(document.getElementById('ph').value);
            const nh3 = parseFloat(document.getElementById('nh3').value);
            const no2 = parseFloat(document.getElementById('no2').value);

            if (isNaN(ph) || isNaN(nh3) || isNaN(no2)) {
                document.getElementById("result").innerHTML = "⚠️ 请输入所有数值（pH、NH₃、NO₂）。";
                return;
            }

            let bacteria = "", molasses = "", soda = "", salt = "";

            // 菌剂 & 糖蜜逻辑
            if (nh3 > 1) {
                bacteria = "枯草芽孢杆菌：300g";
                molasses = "糖蜜：600g";
            } else if (nh3 > 0.5) {
                bacteria = "枯草芽孢杆菌：200g";
                molasses = "糖蜜：400g";
            } else {
                bacteria = "枯草芽孢杆菌：100g";
                molasses = "糖蜜：200g";
            }

            // 小苏打逻辑
            soda = ph < 7 ? "小苏打：100g" : "小苏打：不需要";

            // 食盐逻辑
            salt = no2 > 0.3 ? "食盐：加 3kg（分两次）" : "食盐：不需要";

            // 输出建议
            document.getElementById("result").innerHTML =
                `<b>投料建议：</b><br><br>
                ${bacteria}<br>
                ${molasses}<br>
                ${soda}<br>
                ${salt}`;
        }
    </script>
</body>
</html>
